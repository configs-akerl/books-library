dist: trusty
env:
  global:
  - BUCKET=akerl-book-library-config
  - secure: eN902feHZcWW/OC49l/bGcXlo9HEnpyP6q/hRap3hyuz1PRl7w0JmjQCfj/9JUPn8uUNrQaHbq3zPZDZT2p89nO+EIj+TFwVxfkpsOsBeIqFtq5B2cIsUnASgm/K+FSMbVZk2eYUMZrfzhCw0Fh+qCfKMxtJCEmWRIg0KAlWpxdKTU9uprjCoogMzXCA/IJC8EwCDPMh9NdOs088MkPEoSrLIle6WAN1LoFU0+f8H5UsdLOrSLL1EBP3RiCD0C25HWnzOFjP9JAiqwdVzXn3NPPrSylvO6Aaw2AVExEgkmARqaGHSNeuGgXh/7mVsn9/BIliNhl0HZkuxSFe8ShkvNXca1HVTLKslSna5t5pVti+E1H1brvZH/HVu/8fSsNUaQgTyezWpDS8zfyqdLeXecPbHxIuLy2hwi2cMBl/QBWvHFfWs7NH9+lfcujh1UcjbJ4USJnG0pjMk6GLo+xI1YmgLasM4P3C8m3sjXrP5j/emJWzh1LZNuTdocl+JH++pO52moh8tdM62g2hJJ8ImTQl14AZuTIgdcngTCfA0qZb9fZT4itAfBhRjje8iuB9xhnUkmb2yQEAvcznAO/MrQsRfvSiGTnctc/yi7J+ivpNgFUDWEhEkJaR0w6vsFBD/JWhugHgEq6OR7dfVjDTEzMWnQmvJRPLS4ftt4nDJ24=
  - secure: ZSDNhmcDZ8N0yE3WWD3RIgSnMAo7wDc3U1NopCtyvkQFd85E6h0HNhDElOWpyvibQoMU1Dxy9fBXBOMSpsl4bp43MWWvyEawLQUIF8YOBnw0ZynQdiJ2gbvQnIRMrFnI3/mW5WKLlNhj1QalE0CVeKe8aJkW4Y9nL3ua45Qv3vAbPe8ZurTzU0LuAhFbLRzBfJpWDduC84yvxxXLDW0oNxD1vMtUKb+t8YIPVEP6KJ5Rm5VOvAL56dDEompwTRCtY0bJGWa2ztEm1YHs7MdoYVM7B5WsAi8RftR5qwShE20sDVevH4k0rb+eBGedBgnr/cr+XBCjhdx1GIKyQdxLVAmLkBB8BqqcdC5URwN+o0bXUzkpdb7w2UsWgyowm42XkTZBvMkf8fapchIP36QX5kh5XruOwwTcAHQGsbcPm71ZAaMJjbJNepvavZfodwUdHNX7hlDnnfui7Axw/b7KbPpxJH/gfxUlOl1aLOGC1l19IO3RdXlV/KBy2c4OmEMt1oHQWv0rJ7SdP3jwifPlyT4fg46EYa4eXHEPlSuBMrTSw0hzqTHtbRmTLLiVJe9xLAOmW6XHQdqLxnAgov6dbV5MVnYxuqBII8inWnGWHQmZUpBPu7lFY+wnIJEvvfr+K5OOG5VcBlJbuIGpvLf+Y1AnwTcL0b8HbqYzUOfAVZ8=
  - secure: RH97PLGYiwgzDJj7OEA4/ifCRJ4petbPEA32/IUWZKUTlLerhCFE2c/aawtKcHsFHBEvxQjIpzPHIydNQhYlaE3du34FeSXGZaUs4u8N4W+WnZgsfeELTdRSLWloR2P08eceEmliWk6GtIOUL4bZMX+i2mVX50xLeUrkMZbPh9GABYmYLW66C+yZ2Xc/uR8pFOr8Py60QWjxSU/resQNkuApZNOadHmXNVZinA4pvBPIsgSzTtBGnKXF2gteEq3ORWb/LofPXXFoeweE1QOSJSMo6Eobce3jz9mFDKrtouLvjYdPh13Ud33JgY2/q5scFWB+n08KszbC4aRsHIWmacMw8pGbDaYq0EP8cxNcHDqG4R16tmfij5hLXbX5wQ1QHUzzVfjMEYfLpISQH7CVybTSfdESJLrOkZVf8vOACNwC3jluGvaIaAN/4RmW9qr6j+eDW0kVzUZkLxv3MKdHrA/mcPSxV3f67pjHnEkF1+/EPS/nIg7CWKIbInJTABTF7wTWr9NXzZPhn4ch6LWUNlNcmLRrjkRUhY9+RT0nTU1yZQzVOvis4pBP+YfpMPC6XjC6+I1lXqYrb5mQ3LueXKLKfS/pn9w74ckvYQT+jp9qDAhynYk14MQMSBDgkk/I4ntVlBxqw0r3p/8QUvWKZm2sXOqMe3Ir3qw6vRzu3gw=
  - secure: m7fgV7M0SFt0tu7Yz1am8Sm6CcIIB9vBsxHT/gGfs1EAfNBDN2Mw6JLQrDoE0ftpAn9HuUxtuBsmZFZXusZwAEKqQ09UPLx86xtVAT/18R41vz3Eantk15zvhY5QOr5HMed4AD0vmzrtkkyG2lXr3DxTWJ62Yl7vjpRjb9FGEgEeST2hTApzJTZ2/7Dvb+aNBuAiGhTvxdB4y1tkK1BBMhmXPn2cN/9qpCO3rNiVgqhMFM1biW3ZzZIc0Ct0AoJRRUT7Lhy8Cz5+vgo2WU8uL+Z+xjhjXeGYloJR/YkiqPAAcEdHmMY6J7Muw9GvIzMKsELipNgFTJtU9cXhKPO0MKjD5AgPd25gLDyJpkUTi6bIvTmFRxC6JCkCaZaeuasQ/cG/392afoKSTshT+FHPgebkZWJ58WIbTkFrfa9R9X3qx+PEIbwhWTPMl5LF7kG07XdlequaPOwihPyEdBX3RtP4jpbi5R6HaVYqLDGibghueuq4Kxo+w3qYbm8cZHHU0ZUGjr7mT4MHpvnxPnakw0sD+n9G0HULm6O4Qde59e74uvKL2xVxAsHU70XwFSfelNgAPMNK/JtNiZUWFiKTtjCLA3SKl/xwLnLteHE2gnDbfQbitufCHpkCboTuEfI7CwgI66tnTgWKvJEl89y9LXzTdnnvRfyUuCNnJ+qR8M4=
  - secure: aB/0NFdCNfvdsYqyBecOuneKHG9ZYTOGiE/yLAvnoKMG+xcN5RNfo+hID6lgWkazQdWsC6KfvHMB0X7UCtXGmWuBt44Q9yDY9b0rIN9NcConFHl/u1YvPbyimwvKgH6F5YlWT7s27lH1dmnOtsXfToYoRheR3tza0wqY2WxEijBXhleehCNxmezNxRr1XgClmrqCF5NpcZPx33esigrBkR8iJa2j6DGsiDboHntl05BCAofZxgH8E6bNRbXGtSWOG7OYIrLCUOx9QUjNs5d3qnZWeeGMfITSHBpi+mzqnRlfInVustkr7CZWyAd+C3USjfTDzmdYCchh40He+36r2/b/vkqwC4zJFE5wRBACG3bEL0GHcRndyP//dXthIyw0Pf30XTrfngVaK9dyqHh89xvBcsOpskyMpH8z+1YRJJeW5j+bfUQ8Chl2QDlm+yXQeytZuG01F1LASe4mGTM5i4ZOy0DTiBwbXoKYeKM73yTS4j3DXR3diqNgw4LQDIFe+cVIM0370hHS3bP6X5abgXemS8Rzv4kKK2r1QAGDui7eNY0t+EVKnIgVS03O/9XF5iIFJ+1nDAYW4zuNeGyuBRldBrEaIQIFXse6QuhP4gXzblldUMMJKs+zpXkYCcZYqr9YAVoHuY/2UQ0DZbvyKn14MjjutY/qOuYsBJLqF3w=
  - secure: aWHCqFxsUDwH9T+OH+sTDIhDE/VchB7z/QLVqMJq0r2tb+6BT+fJ26ERd3NExBV3jAThEopzUQJx0IbP+ygtNm4ErcyQNgagCDXF4Nb7SiaygjORuL7mnBbku4yf7L7f/K9uQD0Grb67HcfKCZ8Cdp6Rm8nEaClbLoX+d/o7NhHpE5ESo/qBCgOt47VkHDF8EraRP1ih8lnXAOsG5aawBP0ILuwmAJPlD7OAdO0LicQmnFVpvz5OZ/2eZ9M+3YaASJvDdm54jQZKeh2E/AATpmYICtYr0hL+gfZkDEWkOlN9uwAGjqqCKnfyXAI4hh5Y69fMay4lY5qyLluNXMx7iuKPTbUkNp0zwfedyJ+IrUoAUbTui8warJim0fJxq2u9iCjJTbfo5brRxZx6dogqtLZvCptocGVRo/pmKYeEE9xGZUL2HCdoqonfDrF7onCDlI2M/GsEypY598eEnEp3MadZH1ASLtx3Zd2JCm03DCWpDgMif4tl1+3geRwP7HH9HG7ziDfz6jZq5qi2Ga8ShKj6RsXOtyDDQCum7g1y4bM2BEYYeY+H9fRlKlPjZ/8/t7esje+nHfehXsCWvg8svzpxKqYWa2eTyNNj0iHcVy3T/5eNFQ/TiMJ3XqKHfIDMulr6XNOfUuBGjSZPkZHcviYTcTCb/odt+fA+jH1oLuM=
  - secure: GYcppq8QwQENHj7EB3+g9Hn0ezhcWkdp8OiP1nJBPBTH/0z382mO5ftvcf5qh1twNRGa86bY2a5ra64rGKwBQqXr0/xRADHLoKgFOEM0XVEUFqBUJry8ZmR/0drjfbVIcj/QnwbLfveNMExWc3bbsAR3tqhrlPy+5IygT14BK5WMzWP8FoyMokpMUOsMYUY5T4yZHvAwmkK3xIKNUXTm9IlLkK7m1yaX4r/GqY+SyJ0FQZYDUNATWRw6T6fvMpp3q6FgmPE8W5N62vorvA6L+iS4dOxWqKSWBz2lQUo+3IWeKNkSd/cmDWQc78Bcoeuc40OGqhSwkAIWY7ZpfvsU5kRLT4sVgPjlI9eOx+rdRwsIe2csK/TsMOj1vc+Ju3lr+cSFHhUFxPuRJY7jn2XKa23IOnjZ58guLYRDSDapvGuV7xCOPbnE5dF3E5K23EKlHymliLH83xJ3DSSFniddSErT8ZbpmVrJkT7xGJgQcDeecYDGHdWJjhZMGlX7vAJmDETkMZ4lMGNdvhIV2OYGoJEEaLOBqfAPPHmRvShQ11PJuJK+eG2Dpf8c8VKSOhUg3ofWDnMthdn61nqaq2yJQ3U8t0uxUwzhxUc7nVrJb8w/UGizq1GTgg9j7CX7k7UtXM8ezakvmIy54ZLTGBr3yvq4it+zdmCq7Y+Wj9+UjQA=
before_install:
- scripts/deps.sh
script:
- scripts/template.py config.yaml.j2 config.yaml
- scripts/upload.sh config.yaml
notifications:
  email: false
  slack:
    secure: FcpnscFaS7tV27Nx4aRJ29EfMUp3+nRqAV0bnxIbqp1lHZSwiS0sk50YL0lzad6fGYoTle4FFSEdxL79PEnVY9aMzzKkfm08i3kpbJkZp9NjQQFXIuIAuFK48Xdupvofx5j/aL6Jyrzn9emzVF0hzZx2BQU9V+lTEZtFouWJI7MwrGgo+4IgbILv64scW9QpY/YM9XUK366URkepZwUCjX/mdSgrk0yOoP1IoQSUkD9dLiXxPINlatK77VRczREideT2U+XIuSMsOPqSjj4yg0rDoP6feygOJBfXvQJVtqM8i1e2g2zdjEzUIEV3T3EVl51Bl4AdfL4/0strIF8cj+MkIPoS8lUqPy42m8aXYcbDwhece9Aez+EJlneLXWTROkAMLLbGUiVvZonnbtxQxp0qKzDK3mh6J4fKXZVdm/SO8+MJ4q1jy8zsQL11mM+J6fLph4nfCh38XVe+gA6pEuA3xyaTPeJUw9daGGeZVHdMSOmTyDDLh8f+sPllc8T99d+63bm4y9rpLZwfAgCEMPWBU3e7JExccKXNOVUkY9tyq7TqS3rOi7fO7/IXbI790bJ7MaziKC9ESML8pXR7FGHBFYjGPfxlSMuITdZ+o3L5ojUc/3bGYgpzjSDOmdgZRj3Lanyn9E/K8X7kgi9HqA61dj1kRcQSRgCi6R+4j3Q=
